(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21dc81"],{d384:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("courier-form")},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.ready?a("ValidationObserver",{ref:"obs",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit;return[a("form",{on:{submit:function(e){return e.preventDefault(),r(t.save)}}},[a("v-card-title",{staticClass:"px-0"},[a("h4",[t._v(t._s(t.title))]),a("v-spacer"),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",loading:t.loading,type:"submit"}},[t._v(" Сохранить ")])],1),a("v-card",[a("v-card-text",[a("v-row",[a("v-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r[0],outlined:"",dense:"",clearable:"",label:"Name"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})]}}],null,!0)})],1),a("v-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"phone"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r[0],outlined:"",dense:"",clearable:"",label:"phone"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})]}}],null,!0)})],1),a("v-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"car_number"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r[0],outlined:"",dense:"",clearable:"",label:"car_number"},model:{value:t.formData.car_number,callback:function(e){t.$set(t.formData,"car_number",e)},expression:"formData.car_number"}})]}}],null,!0)})],1),a("v-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"car_type"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r[0],outlined:"",dense:"",clearable:"",label:"car_type"},model:{value:t.formData.car_type,callback:function(e){t.$set(t.formData,"car_type",e)},expression:"formData.car_type"}})]}}],null,!0)})],1),a("v-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"car_model"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r[0],outlined:"",dense:"",clearable:"",label:"car_model"},model:{value:t.formData.car_model,callback:function(e){t.$set(t.formData,"car_model",e)},expression:"formData.car_model"}})]}}],null,!0)})],1),a("v-col",{attrs:{md:"6"}},[a("validation-provider",{attrs:{name:"status"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-autocomplete",{attrs:{"error-messages":r[0],"item-text":"text",outlined:"",dense:"",clearable:"",label:"Status","item-value":"id",items:t.$store.state.status},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}})]}}],null,!0)})],1)],1)],1)],1)],1)]}}],null,!1,906452633)}):t._e()},s=[],l=(a("d3b7"),a("3ca3"),a("ddb0"),a("025e")),i={data:function(){return{formData:{status:10,name:"",phone:"",car_number:"",car_type:"",car_model:""},loading:!1,ready:!1}},computed:{title:function(){return this.$route.meta.title},isUpdate:function(){return this.$route.params.id}},methods:{getData:function(){var t=this;return new Promise((function(e){t.$http.get("courier/".concat(t.$route.params.id)).then((function(e){var a={};for(var r in e.data.data)t.formData.hasOwnProperty(r)&&(a[r]=e.data.data[r]);t.formData=a})).finally((function(){return e()}))}))},save:function(){this.isUpdate?this.update():this.create()},prepareData:function(){var t=new FormData;for(var e in this.formData)t.append(e,this.formData[e]);return t},create:function(){var t=this,e=this.prepareData();this.$http.post("courier",e).then((function(){t.$router.push({name:"courier-index"}),t.$store.commit("showSnackbar","Saved successfully")})).catch((function(e){var a=t.$refs.obs;a.setErrors(Object(l["a"])(e)),t.$store.commit("showErrorMessage",e)}))},update:function(){var t=this,e=this.prepareData();e.append("_method","put"),this.$http.post("courier/".concat(this.$route.params.id),e).then((function(){t.$router.push({name:"courier-index"}),t.$store.commit("showSnackbar","Saved successfully")})).catch((function(e){var a=t.$refs.obs;a.setErrors(Object(l["a"])(e)),t.$store.commit("showErrorMessage",e)}))},init:function(){var t=this;this.$store.commit("showLoading");var e=[];this.isUpdate&&e.push(this.getData()),Promise.all(e).then((function(){t.$store.commit("clearLoading"),t.ready=!0}))}},created:function(){this.init()}},c=i,u=a("2877"),d=a("6544"),m=a.n(d),f=a("c6a6"),p=a("8336"),v=a("b0af"),h=a("99d9"),b=a("62ad"),_=a("0fd9"),D=a("2fa4"),$=a("8654"),y=Object(u["a"])(c,n,s,!1,null,null,null),x=y.exports;m()(y,{VAutocomplete:f["a"],VBtn:p["a"],VCard:v["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:b["a"],VRow:_["a"],VSpacer:D["a"],VTextField:$["a"]});var k={components:{courierForm:x}},g=k,w=Object(u["a"])(g,r,o,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-2d21dc81.1e3546ca.js.map