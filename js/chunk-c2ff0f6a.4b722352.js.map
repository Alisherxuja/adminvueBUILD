{"version":3,"sources":["webpack:///./src/components/category/form.vue?fc94","webpack:///src/components/category/form.vue","webpack:///./src/components/category/form.vue?8cde","webpack:///./src/components/category/form.vue","webpack:///./src/views/category/create.vue?51b4","webpack:///src/views/category/create.vue","webpack:///./src/views/category/create.vue?baff","webpack:///./src/views/category/create.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","scopedSlots","_u","key","fn","handleSubmit","on","$event","preventDefault","save","staticClass","_v","_s","title","staticStyle","attrs","model","value","formData","callback","$$v","$set","expression","loading","errors","categories","brands","toggle","likesAllBrand","length","icon","proxy","item","index","name","_e","staticRenderFns","data","name_ru","name_uz","parent_id","file","is_popular","status","ready","watch","accessToAddBrands","val","computed","isUpdate","likesSomeFruit","methods","getData","res","finally","getCategories","then","catch","getBrands","prepareData","prop","create","obs","update","init","promisesData","Promise","filterParents","created","component","VAutocomplete","VBtn","VCard","VCardText","VCardTitle","VChip","VCol","VIcon","VListItem","VListItemAction","VListItemContent","VList","VListItemTitle","VRow","VSpacer","VSwitch","VTextField","components","CategoryForm"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAS,MAAEI,EAAG,qBAAqB,CAACE,IAAI,MAAMC,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GAC9L,IAAIK,EAAeL,EAAIK,aACvB,MAAO,CAACP,EAAG,OAAO,CAACQ,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBH,EAAaX,EAAIe,SAAS,CAACX,EAAG,eAAe,CAACY,YAAY,QAAQ,CAACZ,EAAG,KAAK,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,UAAUf,EAAG,YAAYA,EAAG,WAAW,CAACY,YAAY,OAAOI,YAAY,CAAC,aAAa,mBAAmBC,MAAM,CAAC,aAAa,GAAG,cAAc,EAAE,MAAQ,UAAU,MAAQ,UAAUC,MAAM,CAACC,MAAOvB,EAAIwB,SAAe,OAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,SAAU,SAAUE,IAAME,WAAW,qBAAqBxB,EAAG,QAAQ,CAACY,YAAY,OAAOK,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,QAAUrB,EAAI6B,QAAQ,KAAO,WAAW,CAAC7B,EAAIiB,GAAG,kBAAkB,GAAGb,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACiB,MAAM,CAAC,GAAK,MAAM,CAACjB,EAAG,sBAAsB,CAACiB,MAAM,CAAC,KAAO,WAAWd,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GACvxB,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAC1B,EAAG,eAAe,CAACiB,MAAM,CAAC,iBAAiBS,EAAO,GAAG,YAAY,OAAO,SAAW,GAAG,MAAQ,GAAG,UAAY,GAAG,MAAQ,eAAeR,MAAM,CAACC,MAAOvB,EAAIwB,SAAgB,QAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,SAAU,UAAWE,IAAME,WAAW,0BAA0B,MAAK,MAAS,GAAGxB,EAAG,QAAQ,CAACiB,MAAM,CAAC,GAAK,MAAM,CAACjB,EAAG,sBAAsB,CAACiB,MAAM,CAAC,KAAO,WAAWd,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GAC3a,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAC1B,EAAG,eAAe,CAACiB,MAAM,CAAC,iBAAiBS,EAAO,GAAG,YAAY,OAAO,SAAW,GAAG,MAAQ,GAAG,UAAY,GAAG,MAAQ,eAAeR,MAAM,CAACC,MAAOvB,EAAIwB,SAAgB,QAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,SAAU,UAAWE,IAAME,WAAW,0BAA0B,MAAK,MAAS,GAAGxB,EAAG,QAAQ,CAACiB,MAAM,CAAC,GAAK,MAAM,CAACjB,EAAG,sBAAsB,CAACiB,MAAM,CAAC,KAAO,aAAad,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GAC7a,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAC1B,EAAG,iBAAiB,CAACiB,MAAM,CAAC,iBAAiBS,EAAO,GAAG,YAAY,UAAU,SAAW,GAAG,MAAQ,GAAG,UAAY,GAAG,MAAQ,WAAW,MAAQ9B,EAAI+B,WAAW,aAAa,MAAMT,MAAM,CAACC,MAAOvB,EAAIwB,SAAkB,UAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,SAAU,YAAaE,IAAME,WAAW,4BAA4B,MAAK,MAAS,GAAI5B,EAAqB,kBAAEI,EAAG,QAAQ,CAACiB,MAAM,CAAC,GAAK,MAAM,CAACjB,EAAG,sBAAsB,CAACiB,MAAM,CAAC,KAAO,UAAUd,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GACnf,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAC1B,EAAG,iBAAiB,CAACiB,MAAM,CAAC,iBAAiBS,EAAO,GAAG,YAAY,OAAO,SAAW,GAAG,MAAQ,GAAG,UAAY,GAAG,MAAQ,SAAS,aAAa,KAAK,MAAQ9B,EAAIgC,OAAO,SAAW,IAAIzB,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,WAAW,MAAO,CAACN,EAAG,cAAc,CAACiB,MAAM,CAAC,OAAS,IAAIT,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIiC,QAAQjC,EAAIkC,kBAAkB,CAAC9B,EAAG,qBAAqB,CAACA,EAAG,SAAS,CAACiB,MAAM,CAAC,MAAQrB,EAAIwB,SAASQ,OAAOG,OAAS,EAAI,kBAAoB,KAAK,CAACnC,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAIoC,MAAM,QAAQ,GAAGhC,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIiB,GAAG,oBAAoB,IAAI,KAAKoB,OAAM,GAAM,CAAC5B,IAAI,YAAYC,GAAG,SAASJ,GAChoB,IAAIgC,EAAOhC,EAAIgC,KACXC,EAAQjC,EAAIiC,MAChB,MAAO,CAAEA,EAAQ,EAAG,CAACnC,EAAG,SAAS,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGoB,EAAKE,UAAUxC,EAAIyC,KAAgB,IAAVF,EAAa,CAACnC,EAAG,SAAS,CAACJ,EAAIiB,GAAG,IAAIjB,EAAIkB,GAAGlB,EAAIwB,SAASQ,OAAOG,OAAS,OAAOnC,EAAIyC,SAAS,MAAK,GAAMnB,MAAM,CAACC,MAAOvB,EAAIwB,SAAe,OAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,SAAU,SAAUE,IAAME,WAAW,yBAAyB,MAAK,MAAS,GAAG5B,EAAIyC,KAAKrC,EAAG,QAAQ,CAACiB,MAAM,CAAC,GAAK,MAAM,CAACjB,EAAG,sBAAsB,CAACiB,MAAM,CAAC,KAAO,QAAQd,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASJ,GACjd,IAAIwB,EAASxB,EAAIwB,OACjB,MAAO,CAAC1B,EAAG,aAAa,CAACiB,MAAM,CAAC,gBAAgBS,EAAO,GAAG,aAAa,SAASR,MAAM,CAACC,MAAOvB,EAAIwB,SAAa,KAAEC,SAAS,SAAUC,GAAM1B,EAAI2B,KAAK3B,EAAIwB,SAAU,OAAQE,IAAME,WAAW,uBAAuB,MAAK,MAAS,IAAI,IAAI,IAAI,IAAI,OAAO,MAAK,EAAM,cAAc5B,EAAIyC,MAC/QC,EAAkB,G,0ECmGP,GACfC,KADA,WAEA,OACAnB,UACAoB,WACAC,WACAC,aACAC,QACAf,UACAgB,aACAC,WAEApB,WACAqB,SACAnB,cACAC,YAGAmB,OACAC,kBADA,SACAC,GACA,IACA,2BAIAC,UACAnC,MADA,WAEA,+BAEAoC,SAJA,WAKA,8BAEAH,kBAPA,WAQA,gCAEAlB,cAVA,WAWA,yDAEAsB,eAbA,WAcA,2DAEApB,KAhBA,WAiBA,yCACA,mCACA,iBAGAqB,SACAxB,OADA,SACAoB,GAAA,WACA,2BACA,MAEA,IADA,SACA,0BACArB,oBAEA,yBAEA,yBAIA0B,QAdA,WAcA,WACA,gCACA,wEACAC,oBACAA,gEACA,qBAEA,wBACAA,4CAEA,+BACAA,0BAEA,SACA,yBACA,+BACAhB,qBAGA,gBACAiB,SAAA,6BAGAC,cArCA,WAqCA,WACA,gCACA,sCACAC,MAAA,YACA,4BAEAC,OAAA,4DACAH,SAAA,6BAGAI,UA/CA,WA+CA,WACA,gCACA,2BACAF,MAAA,YACA,wBAEAC,OAAA,4DACAH,SAAA,6BAGA7C,KAzDA,WA0DA,cACA,cAEA,eAGAkD,YAhEA,WAgEA,WACA,eADA,WAEAC,GACA,WACA,oBACAvB,+BAEA,aACA,mCACAA,sBAGAA,2BAVA,gCAaA,UAEAwB,OAjFA,WAiFA,WACA,qBACA,iDACA,gBAAA3B,0BACA,wDACAuB,OAAA,YACA,kBACAK,+BACA,0CAGAC,OA5FA,WA4FA,WACA,qBACA1B,0BACA,+DACAmB,MAAA,WACA,gBAAAtB,0BACA,wDAEAuB,OAAA,YACA,kBACAK,+BACA,0CAGAE,KA1GA,WA0GA,WACA,kCACA,OACA,qBACA,kBAEA,eACAC,uBAEAC,gCACA,gCACA,eAGAC,cAxHA,WAwHA,WACA,iGAGAC,QA3KA,WA4KA,cC/R6V,I,yMCOzVC,EAAY,eACd,EACA5E,EACA2C,GACA,EACA,KACA,KACA,MAIa,OAAAiC,EAAiB,QAoBhC,IAAkBA,EAAW,CAACC,gBAAA,KAAcC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMC,OAAA,KAAKC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,iBAAAC,EAAA,KAAiBC,eAAAD,EAAA,KAAeE,OAAA,KAAKC,UAAA,KAAQC,UAAA,KAAQC,aAAA,Q,yCCtC5K,IAAI7F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,kBAC/FsC,EAAkB,G,YCMtB,GACAmD,YAAAC,sBCR+V,I,YCO3VnB,EAAY,eACd,EACA5E,EACA2C,GACA,EACA,KACA,KACA,MAIa,aAAAiC,E","file":"js/chunk-c2ff0f6a.4b722352.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('ValidationObserver',{ref:\"obs\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.save)}}},[_c('v-card-title',{staticClass:\"px-0\"},[_c('h4',[_vm._v(_vm._s(_vm.title))]),_c('v-spacer'),_c('v-switch',{staticClass:\"ma-2\",staticStyle:{\"margin-top\":\"22px !important\"},attrs:{\"true-value\":10,\"false-value\":0,\"color\":\"primary\",\"label\":\"Active\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}}),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"loading\":_vm.loading,\"type\":\"submit\"}},[_vm._v(\" Сохранить \")])],1),_c('v-card',[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"md\":\"4\"}},[_c('validation-provider',{attrs:{\"name\":\"name_ru\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-text-field',{attrs:{\"error-messages\":errors[0],\"item-text\":\"name\",\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"label\":\"Название ru\"},model:{value:(_vm.formData.name_ru),callback:function ($$v) {_vm.$set(_vm.formData, \"name_ru\", $$v)},expression:\"formData.name_ru\"}})]}}],null,true)})],1),_c('v-col',{attrs:{\"md\":\"4\"}},[_c('validation-provider',{attrs:{\"name\":\"name_uz\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-text-field',{attrs:{\"error-messages\":errors[0],\"item-text\":\"name\",\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"label\":\"Название uz\"},model:{value:(_vm.formData.name_uz),callback:function ($$v) {_vm.$set(_vm.formData, \"name_uz\", $$v)},expression:\"formData.name_uz\"}})]}}],null,true)})],1),_c('v-col',{attrs:{\"md\":\"4\"}},[_c('validation-provider',{attrs:{\"name\":\"parent_id\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-autocomplete',{attrs:{\"error-messages\":errors[0],\"item-text\":\"name_ru\",\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"label\":\"Родитель\",\"items\":_vm.categories,\"item-value\":\"id\"},model:{value:(_vm.formData.parent_id),callback:function ($$v) {_vm.$set(_vm.formData, \"parent_id\", $$v)},expression:\"formData.parent_id\"}})]}}],null,true)})],1),(_vm.accessToAddBrands)?_c('v-col',{attrs:{\"md\":\"4\"}},[_c('validation-provider',{attrs:{\"name\":\"brands\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-autocomplete',{attrs:{\"error-messages\":errors[0],\"item-text\":\"name\",\"outlined\":\"\",\"dense\":\"\",\"clearable\":\"\",\"label\":\"Brands\",\"item-value\":\"id\",\"items\":_vm.brands,\"multiple\":\"\"},scopedSlots:_vm._u([{key:\"prepend-item\",fn:function(){return [_c('v-list-item',{attrs:{\"ripple\":\"\"},on:{\"click\":function($event){return _vm.toggle(!_vm.likesAllBrand)}}},[_c('v-list-item-action',[_c('v-icon',{attrs:{\"color\":_vm.formData.brands.length > 0 ? 'indigo darken-4' : ''}},[_vm._v(\" \"+_vm._s(_vm.icon)+\" \")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" Выбрать все \")])],1)],1)]},proxy:true},{key:\"selection\",fn:function(ref){\nvar item = ref.item;\nvar index = ref.index;\nreturn [(index < 3)?[_c('v-chip',[_vm._v(_vm._s(item.name))])]:_vm._e(),(index === 3)?[_c('v-chip',[_vm._v(\"+\"+_vm._s(_vm.formData.brands.length - 3))])]:_vm._e()]}}],null,true),model:{value:(_vm.formData.brands),callback:function ($$v) {_vm.$set(_vm.formData, \"brands\", $$v)},expression:\"formData.brands\"}})]}}],null,true)})],1):_vm._e(),_c('v-col',{attrs:{\"md\":\"4\"}},[_c('validation-provider',{attrs:{\"name\":\"file\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('v-uploader',{attrs:{\"error-message\":errors[0],\"label-text\":\"Image\"},model:{value:(_vm.formData.file),callback:function ($$v) {_vm.$set(_vm.formData, \"file\", $$v)},expression:\"formData.file\"}})]}}],null,true)})],1)],1)],1)],1)],1)]}}],null,false,1629024105)}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <ValidationObserver v-slot=\"{handleSubmit}\" ref=\"obs\" v-if=\"ready\">\n        <form @submit.prevent=\"handleSubmit(save)\">\n            <v-card-title class=\"px-0\">\n                <h4>{{ title }}</h4>\n                <v-spacer/>\n                <v-switch :true-value=\"10\" :false-value=\"0\" v-model=\"formData.status\" color=\"primary\" class=\"ma-2\"\n                          label=\"Active\"\n                          style=\"margin-top: 22px !important;\"/>\n                <v-btn color=\"primary\" dark class=\"mb-2\" :loading=\"loading\" type=\"submit\">\n                    Сохранить\n                </v-btn>\n            </v-card-title>\n            <v-card>\n                <v-card-text>\n                    <v-row>\n                        <v-col md=\"4\">\n                            <validation-provider name=\"name_ru\" v-slot=\"{errors}\">\n                                <v-text-field\n                                    :error-messages=\"errors[0]\"\n                                    item-text=\"name\"\n                                    outlined\n                                    dense\n                                    clearable\n                                    label=\"Название ru\"\n                                    v-model=\"formData.name_ru\"\n                                />\n                            </validation-provider>\n                        </v-col>\n                        <v-col md=\"4\">\n                            <validation-provider name=\"name_uz\" v-slot=\"{errors}\">\n                                <v-text-field\n                                    :error-messages=\"errors[0]\"\n                                    item-text=\"name\"\n                                    outlined\n                                    dense\n                                    clearable\n                                    label=\"Название uz\"\n                                    v-model=\"formData.name_uz\"\n                                />\n                            </validation-provider>\n                        </v-col>\n\n                        <v-col md=\"4\">\n                            <validation-provider name=\"parent_id\" v-slot=\"{errors}\">\n                                <v-autocomplete\n                                    :error-messages=\"errors[0]\"\n                                    item-text=\"name_ru\"\n                                    outlined\n                                    dense\n                                    clearable\n                                    label=\"Родитель\"\n                                    :items=\"categories\"\n                                    item-value=\"id\"\n                                    v-model=\"formData.parent_id\"\n                                />\n                            </validation-provider>\n                        </v-col>\n                        <v-col md=\"4\" v-if=\"accessToAddBrands\">\n                            <validation-provider name=\"brands\" v-slot=\"{errors}\">\n                                <v-autocomplete\n                                    :error-messages=\"errors[0]\"\n                                    item-text=\"name\"\n                                    outlined\n                                    dense\n                                    clearable\n                                    label=\"Brands\"\n                                    item-value=\"id\"\n                                    :items=\"brands\"\n                                    multiple\n                                    v-model=\"formData.brands\"\n                                >\n                                    <template #prepend-item>\n                                        <v-list-item ripple @click=\"toggle(!likesAllBrand)\">\n                                            <v-list-item-action>\n                                                <v-icon :color=\"formData.brands.length > 0 ? 'indigo darken-4' : ''\">\n                                                    {{ icon }}\n                                                </v-icon>\n                                            </v-list-item-action>\n                                            <v-list-item-content>\n                                                <v-list-item-title>\n                                                    Выбрать все\n                                                </v-list-item-title>\n                                            </v-list-item-content>\n                                        </v-list-item>\n                                    </template>\n                                    <template #selection=\"{item, index}\">\n                                        <template v-if=\"index < 3\">\n                                            <v-chip>{{ item.name }}</v-chip>\n                                        </template>\n                                        <template v-if=\"index === 3\">\n                                            <v-chip>+{{ formData.brands.length - 3 }}</v-chip>\n                                        </template>\n                                    </template>\n                                </v-autocomplete>\n                            </validation-provider>\n                        </v-col>\n                        <v-col md=\"4\">\n                            <validation-provider name=\"file\" v-slot=\"{errors}\">\n                                <v-uploader\n                                    :error-message=\"errors[0]\"\n                                    label-text=\"Image\"\n                                    v-model=\"formData.file\"/>\n                            </validation-provider>\n                        </v-col>\n                    </v-row>\n                </v-card-text>\n            </v-card>\n        </form>\n    </ValidationObserver>\n</template>\n\n<script>\nimport {getErrorMessages} from \"../../utils\";\n\nexport default {\n    data() {\n        return {\n            formData: {\n                name_ru: '',\n                name_uz: '',\n                parent_id: '',\n                file: {},\n                brands: [],\n                is_popular: 0,\n                status: 10,\n            },\n            loading: false,\n            ready: false,\n            categories: [],\n            brands: []\n        }\n    },\n    watch: {\n        accessToAddBrands(val) {\n            if (!val) {\n                this.formData.brands = []\n            }\n        }\n    },\n    computed: {\n        title() {\n            return this.$route.meta.title\n        },\n        isUpdate() {\n            return this.$route.params.id\n        },\n        accessToAddBrands() {\n            return this.formData.parent_id\n        },\n        likesAllBrand() {\n            return this.formData.brands.length === this.brands.length\n        },\n        likesSomeFruit() {\n            return this.formData.brands.length > 0 && !this.likesAllBrand\n        },\n        icon() {\n            if (this.likesAllBrand) return 'fas fa-times';\n            if (this.likesSomeFruit) return 'fas fa-minus';\n            return 'fas fa-check'\n        },\n    },\n    methods: {\n        toggle(val) {\n            this.$nextTick(() => {\n                if (val) {\n                    let brands = []\n                    for (let i = 0; i < this.brands.length; i++) {\n                        brands[i] = this.brands[i].id\n                    }\n                    this.formData.brands = brands\n                } else {\n                    this.formData.brands = []\n                }\n            })\n        },\n        getData() {\n            return new Promise((resolve) => {\n                this.$http.get(`categories/${this.$route.params.id}`).then(res => {\n                    res.data.data.file = {}\n                    res.data.data.brands = res.data.data.category_brands.map(item => {\n                        return item.brand_id\n                    })\n                    if (res.data.data.image_url) {\n                        res.data.data.file.url = res.data.data.image_url\n                    }\n                    if (res.data.data.parent_id === null) {\n                        res.data.data.parent_id = ''\n                    }\n                    const data = {}\n                    for (let prop in res.data.data) {\n                        if (this.formData.hasOwnProperty(prop)) {\n                            data[prop] = res.data.data[prop]\n                        }\n                    }\n                    this.formData = data\n                }).finally(() => resolve())\n            })\n        },\n        getCategories() {\n            return new Promise((resolve) => {\n                this.$http.get('categories/parent-list')\n                    .then(res => {\n                        this.categories = res.data.data\n                    })\n                    .catch(err => this.$store.commit('showErrorMessage', err))\n                    .finally(() => resolve())\n            })\n        },\n        getBrands() {\n            return new Promise(resolve => {\n                this.$http.get('brands/list')\n                    .then(res => {\n                        this.brands = res.data.data\n                    })\n                    .catch(err => this.$store.commit('showErrorMessage', err))\n                    .finally(() => resolve())\n            })\n        },\n        save() {\n            if (this.isUpdate) {\n                this.update()\n            } else {\n                this.create()\n            }\n        },\n        prepareData() {\n            const data = new FormData()\n            for (let prop in this.formData) {\n                if (prop === 'file') {\n                    if (this.formData[prop].file) {\n                        data.append(prop, this.formData[prop].file)\n                    }\n                } else if (prop === 'brands') {\n                    this.formData[prop].forEach(item => {\n                        data.append(prop + '[]', item)\n                    })\n                } else {\n                    data.append(prop, this.formData[prop])\n                }\n            }\n            return data\n        },\n        create() {\n            const data = this.prepareData()\n            this.$http.post('categories', data).then(() => {\n                this.$router.push({name: 'categories-index'})\n                this.$store.commit('showSnackbar', 'Saved successfully')\n            }).catch(err => {\n                const {obs} = this.$refs\n                obs.setErrors(getErrorMessages(err))\n                this.$store.commit('showErrorMessage', err)\n            })\n        },\n        update() {\n            const data = this.prepareData()\n            data.append('_method', 'put')\n            this.$http.post(`categories/${this.$route.params.id}`, data)\n                .then(() => {\n                    this.$router.push({name: 'categories-index'})\n                    this.$store.commit('showSnackbar', 'Saved successfully')\n                })\n                .catch(err => {\n                    const {obs} = this.$refs\n                    obs.setErrors(getErrorMessages(err))\n                    this.$store.commit('showErrorMessage', err)\n                })\n        },\n        init() {\n            this.$store.commit('showLoading');\n            const promisesData = [\n                this.getCategories(),\n                this.getBrands()\n            ]\n            if (this.isUpdate) {\n                promisesData.push(this.getData())\n            }\n            Promise.all(promisesData).then(() => {\n                this.$store.commit('clearLoading')\n                this.ready = true\n            })\n        },\n        filterParents() {\n            this.filteredCategories = this.categories.filter(c => c.type === this.formData.type);\n        }\n    },\n    created() {\n        this.init()\n    }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=2eebe2b0&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VCardTitle,VChip,VCol,VIcon,VListItem,VListItemAction,VListItemContent,VListItemTitle,VRow,VSpacer,VSwitch,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('category-form')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <category-form/>\n</template>\n\n<script>\n    import CategoryForm from '../../components/category/form'\n\n    export default {\n        components: {CategoryForm}\n    }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=46443253&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}